import{_ as m,o as n,c as a,m as c,n as g,e as l,F as y,C as _,J as v,r as C,i as u,a as o,t as f,T as b}from"./index-BX7k1nCh.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i=new Error().stack;i&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[i]="14660854-3f64-4b75-ab36-3de73978445e",t._sentryDebugIdIdentifier="sentry-dbid-14660854-3f64-4b75-ab36-3de73978445e")}catch{}})();const B={name:"AppProgressBar",props:{progress:{type:Number,default:0},max:{type:Number,default:100},manual:{type:Boolean,default:!1},color:{type:String,default:"#7E9BC7"},indeterminate:{type:Boolean,default:!1}},computed:{currentProgress(){return this.progress/this.max*100}}};function I(t,i,e,d,s,r){return n(),a(y,null,[e.indeterminate?l("",!0):(n(),a("div",{key:0,style:c("--progress: "+r.currentProgress+"%;--progress-color:"+e.color),class:g(["progress-container",{manual:e.manual}])},null,6)),e.indeterminate?(n(),a("div",{key:1,style:c("--progress-color:"+e.color),class:"progress-container indeterminate"},null,4)):l("",!0)],64)}const w=m(B,[["render",I],["__scopeId","data-v-80866ecf"]]),T={setup(){return{getIcon:_().get}},name:"AppNotification",emits:["toggle-notification"],components:{AppProgressBar:w},data(){return{active:!1,progressInterval:null,startTime:null,currentProgress:0,timeoutClose:null,currentBodyText:this.bodyText}},props:{title:{type:String,required:!0},bodyText:{type:String,required:!0},duration:{type:Number,default:4300},id:{type:String,default:()=>v()},type:{type:Number,default:0,validator:t=>t>=-2&&t<=1},forceColor:{type:String,default:null}},methods:{openNotification(){if(this.active){this.startTime=Date.now(),this.currentProgress=0,this.timeoutClose&&(clearTimeout(this.timeoutClose),this.timeoutClose=setTimeout(()=>{this.timeoutClose=null,this.closeNotification()},this.duration));return}this.active=!0,document.getElementById("notification-"+this.id).style.order=x()+1+"",window.notifications.push(this),this.duration&&(this.startTime=Date.now(),this.progressInterval=setInterval(()=>{let t=(Date.now()-this.startTime)/this.duration*100;t>=100?this.currentProgress=100:t<=0?this.currentProgress=0:this.currentProgress=t},30),this.timeoutClose=setTimeout(()=>{this.timeoutClose=null,this.closeNotification()},this.duration)),this.$emit("toggle-notification",!0)},closeNotification(){this.timeoutClose&&(clearTimeout(this.timeoutClose),this.timeoutClose=null),this.active&&(this.active=!1,this.duration&&clearInterval(this.progressInterval),setTimeout(()=>{window.notifications.splice(window.notifications.indexOf(this),1),document.getElementById("notification-"+this.id)&&(document.getElementById("notification-"+this.id).style.order="99999"),this.$emit("toggle-notification",!1)},550))}},created(){if(!document.getElementById("notifications")){let t=document.createElement("div");t.id="notifications",document.body.appendChild(t)}},computed:{progressColor(){return this.forceColor?this.forceColor:this.type===-2?"var(--color-danger)":this.type===-1?"var(--color-warn)":this.type===1?"var(--color-secondary)":"#7E9BC7"}},watch:{bodyText(){this.currentBodyText=this.bodyText}}};function x(){let t=Math.max.apply(Math,window.notifications.map(function(i){return document.getElementById("notification-"+i.id)&&document.getElementById("notification-"+i.id).style&&document.getElementById("notification-"+i.id).style.order?Number(document.getElementById("notification-"+i.id).style.order):-1}));return t>=99999||t<0?-1:t}const N=["id"],E={class:"notification-wrapper"},P={class:"notification-inner"},S=["innerHTML"],k={key:0,class:"notification-header"},A={class:"notification-body"};function D(t,i,e,d,s,r){const h=C("AppProgressBar");return n(),u(b,{to:"#notifications"},[o("div",{id:"notification-"+e.id,class:g(["notification-container",{active:s.active,error:e.type===-2,warning:e.type===-1,success:e.type===1}]),style:c("--notification-color:"+r.progressColor)},[o("div",E,[o("div",P,[o("div",{class:"close-btn",onClick:i[0]||(i[0]=(...p)=>r.closeNotification&&r.closeNotification(...p)),innerHTML:d.getIcon("iconX")},null,8,S),e.title?(n(),a("div",k,[o("h3",null,f(e.title),1)])):l("",!0),o("div",A,[o("p",null,f(s.currentBodyText),1)]),e.duration?(n(),u(h,{key:1,color:r.progressColor,progress:s.currentProgress,manual:""},null,8,["color","progress"])):l("",!0)])])],14,N)])}const H=m(T,[["render",D],["__scopeId","data-v-d3077974"]]);export{H as A,w as a};
//# sourceMappingURL=AppNotification-C8rYUsl6.js.map
