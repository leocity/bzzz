import{_ as d,o as a,i as u,a as s,m as r,n,f,w as m,T as h}from"./index-BX7k1nCh.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="c9f2a538-da15-4dbf-803d-2599b4c194ce",e._sentryDebugIdIdentifier="sentry-dbid-c9f2a538-da15-4dbf-803d-2599b4c194ce")}catch{}})();const v={name:"AppBottomSheet",emits:["toggling-popup","click-overlay"],data(){return{isActive:this.active,activeScrollbar:!1,xPos:0,yPos:0,currNoOverlay:this.noOverlay,scrollElements:[],scrollElementsMap:{},escListener:null}},props:{id:{type:String,default:null},noOverlay:{type:Boolean,default:!1},active:{type:Boolean,default:!1},forceWidth:{type:String,default:null,validator(e){return e===null||e.includes("px")||e.includes("%")}},undismissable:{type:Boolean,default:!1},zIndex:{type:Number,default:null}},computed:{finalClass(){return this.isActive?"":"hidden"}},methods:{clickOverlay(){this.$emit("click-overlay"),this.undismissable||this.toggleStatus(!1)},toggleStatus(e=!this.isActive){this.isActive=e,this.updateScroll(),this.$emit("toggling-popup",this.isActive)},updateScroll(){!this.currNoOverlay&&this.isActive?(this.findScrollableElements(),this.preventScrollOnElements()):this.restoreScrollOnElements()},findScrollableElements(){const e=[],o=document.querySelectorAll("*");for(let t of o)(t.scrollHeight>t.clientHeight&&window.getComputedStyle(t).overflowY==="auto"||t.scrollWidth>t.clientWidth&&window.getComputedStyle(t).overflowX==="auto")&&(t.id=t.id?t.id:Math.random().toString(36).substring(2,15),e.push(t));if(!e.includes(document.documentElement)){let t=window.getComputedStyle(document.documentElement);(t.overflowY==="auto"||t.overflowX==="auto")&&e.push(document.documentElement)}if(!e.includes(document.body)){let t=window.getComputedStyle(document.body);(t.overflowY==="auto"||t.overflowX==="auto")&&e.push(document.body)}this.scrollElements=e},preventScrollOnElements(){this.scrollElements.forEach(e=>{this.scrollElementsMap[e.id]=e.style.overflow?e.style.overflow:"auto",e.style.overflow="hidden"})},restoreScrollOnElements(){this.scrollElements.forEach(e=>{this.scrollElementsMap[e.id]&&(e.style.overflow=this.scrollElementsMap[e.id])})}},created(){if(!document.getElementById("popups")){let e=document.createElement("div");e.id="popups",document.body.appendChild(e)}},mounted(){setTimeout(()=>{this.isActive&&(this.activeScrollbar=!0)},360),this.escListener=e=>{e.keyCode===27&&this.clickOverlay()},document.addEventListener("keyup",this.escListener)},beforeUnmount(){document.removeEventListener("keyup",this.escListener)},watch:{active(e){this.toggleStatus(e)},isActive(e){e?setTimeout(()=>{this.isActive&&(this.activeScrollbar=!0)},360):this.activeScrollbar=!1},forceWidth(){this.$refs["bottom-sheet"].style.width=this.forceWidth},noOverlay(){this.currNoOverlay=this.noOverlay,this.updateScroll()}}},p=["id"],y={class:"bottom-sheet-container"},b={class:"bottom-sheet-content",ref:"bottom-sheet-content"};function S(e,o,t,g,l,i){return a(),u(h,{to:"#popups"},[s("div",{id:t.id?t.id:"",class:n(["overlay-wrapper",{hidden:!l.isActive,noOverlay:l.currNoOverlay}]),onClick:o[0]||(o[0]=m((...c)=>i.clickOverlay&&i.clickOverlay(...c),["self"])),style:r(t.zIndex?"z-index: "+t.zIndex:"")},[s("div",y,[s("div",{class:"bottom-sheet",ref:"bottom-sheet",style:r(t.forceWidth?"width: "+t.forceWidth:"")},[s("div",{class:n(["bottom-sheet-measurer",{activeScroll:l.activeScrollbar}]),ref:"bottom-sheet-measurer"},[s("div",b,[f(e.$slots,"default",{},void 0,!0)],512)],2)],4)])],14,p)])}const E=d(v,[["render",S],["__scopeId","data-v-41ef4d09"]]);export{E as A};
//# sourceMappingURL=AppBottomSheet-DvCqGTG4.js.map
