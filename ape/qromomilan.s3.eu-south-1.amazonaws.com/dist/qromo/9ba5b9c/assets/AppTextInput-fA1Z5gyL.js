import{_ as m,J as h,o as s,c as n,a as d,t as c,e as u,G as f,n as p}from"./index-BX7k1nCh.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="585ae6df-460e-4c8e-be55-1fc8abf58962",e._sentryDebugIdIdentifier="sentry-dbid-585ae6df-460e-4c8e-be55-1fc8abf58962")}catch{}})();const g={name:"AppTextInput",emits:["changing-text","changed-text","pressed-enter","toggling-collapse","toggled-collapse","click-input","focusin-input","focusout-input"],data(){return{isCollapsed:!1,animating:!1,currentValue:this.value,changingTextTimeout:null,passwordVisible:!1}},props:{value:{type:String,default:""},placeholder:{type:String,default:""},label:{type:String,default:null},type:{type:String,default:"text"},name:{type:String,default:""},iconName:{type:String,default:null},collapsable:{type:Boolean,default:!1},textarea:{type:Boolean,default:!1},autoGrow:{type:Boolean,default:!1},noAutocomplete:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},methods:{emitClick(e){this.$emit("click-input",e)},emitFocusout(e){this.$emit("focusout-input",e,this.currentValue)},emitFocusin(e){this.$emit("focusin-input",e,this.currentValue)},toggleCollapsed(){this.collapsable&&!this.animating&&(this.animating=!0,this.isCollapsed=!this.isCollapsed,this.$emit("toggling-collapse",this.isCollapsed),setTimeout(()=>{this.animating=!1,this.isCollapsed||this.$refs.input.focus(),this.$emit("toggled-collapse",this.isCollapsed)},300))},focus(){this.$refs&&this.$refs.input&&this.$refs.input.focus()},autoExpandTextarea(){let e=60,t=250,i=this.$refs.input;i.style.height="";let r=i.scrollHeight>e?i.scrollHeight:e;r=r>t?t:r,i.style.height=r+"px"},handleInput(e){this.currentValue=e.target.value,this.textarea&&this.autoGrow&&this.autoExpandTextarea(),this.$emit("changing-text",e.target.value),this.changingTextTimeout&&clearTimeout(this.changingTextTimeout),this.changingTextTimeout=setTimeout(()=>{this.$emit("changed-text",e.target.value),this.changingTextTimeout=null},500)},handleEnter(e){e.preventDefault(),this.$emit("pressed-enter",this.currentValue)},togglePasswordVisibility(){this.passwordVisible=!this.passwordVisible}},computed:{finalWrapperClass(){let e=this.collapsable?"collapsable ":"";return e+=this.isCollapsed?"collapsed ":"",this.textarea?"textarea":e},id(){return"input-text-"+h()},finalIcon(){return new URL("https://qromomilan.s3.eu-south-1.amazonaws.com/img/icons/"+this.iconName+".svg",import.meta.url).href},autocompleteName(){return this.noAutocomplete?this.noAutocomplete&&this.type==="password"?"new-password":"off":""}},mounted(){if(this.collapsable){if(!this.iconName){console.error("Collapsable input requires an iconName prop");return}this.toggleCollapsed()}},watch:{value(e){this.currentValue=e}}},y={key:0,class:"txt-input-label"},b=["for"],w={class:"form-container"},x={class:"form centered"},C={class:"row input-element"},v=["src","alt"],V=["type","placeholder","id","name","value","disabled","readonly","autocomplete"],k=["placeholder","id","name","readonly"],I=["aria-label"],T={key:0,src:"https://qromomilan.s3.eu-south-1.amazonaws.com/img/Icon-eye-slash.svg"},_={key:1,src:"https://qromomilan.s3.eu-south-1.amazonaws.com/img/Icon-eye.svg"};function N(e,t,i,r,o,l){return s(),n("div",{class:p(["input-wrapper",l.finalWrapperClass])},[i.label?(s(),n("div",y,[d("label",{for:l.id},c(i.label),9,b)])):u("",!0),d("div",w,[d("div",x,[d("div",C,[i.iconName&&!i.textarea?(s(),n("img",{key:0,src:l.finalIcon,alt:i.iconName,draggable:"false",onClick:t[0]||(t[0]=a=>i.collapsable&&l.toggleCollapsed())},null,8,v)):u("",!0),i.textarea?u("",!0):(s(),n("input",{key:1,ref:"input",type:o.passwordVisible?"text":i.type,placeholder:i.placeholder,id:l.id,name:i.name?i.name:l.id,value:o.currentValue,disabled:o.isCollapsed,readonly:i.readonly,onClick:t[1]||(t[1]=(...a)=>l.emitClick&&l.emitClick(...a)),onFocusout:t[2]||(t[2]=(...a)=>l.emitFocusout&&l.emitFocusout(...a)),onFocusin:t[3]||(t[3]=(...a)=>l.emitFocusin&&l.emitFocusin(...a)),onInput:t[4]||(t[4]=(...a)=>l.handleInput&&l.handleInput(...a)),onKeyup:t[5]||(t[5]=f((...a)=>l.handleEnter&&l.handleEnter(...a),["enter"])),autocomplete:l.autocompleteName},null,40,V)),i.textarea?(s(),n("textarea",{key:2,ref:"input",placeholder:i.placeholder,id:l.id,name:i.name,readonly:i.readonly,onClick:t[6]||(t[6]=a=>e.$emit("click-input")),onFocusout:t[7]||(t[7]=a=>e.$emit("focusout-input")),onInput:t[8]||(t[8]=(...a)=>l.handleInput&&l.handleInput(...a))},c(o.currentValue),41,k)):u("",!0)])]),i.type==="password"?(s(),n("button",{key:0,class:"button-visibility",tabindex:"-1",onClick:t[9]||(t[9]=(...a)=>l.togglePasswordVisibility&&l.togglePasswordVisibility(...a)),"aria-label":o.passwordVisible?"Hide password":"Show password"},[o.passwordVisible===!1?(s(),n("img",T)):u("",!0),o.passwordVisible===!0?(s(),n("img",_)):u("",!0)],8,I)):u("",!0)])],2)}const S=m(g,[["render",N],["__scopeId","data-v-604a8c84"]]);export{S as A};
//# sourceMappingURL=AppTextInput-fA1Z5gyL.js.map
