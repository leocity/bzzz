import{W as d}from"./WindowWidth-Bwh3ZodE.js";import{_ as c,o as s,c as a,i as u,a as r,f,n,m as p,T as h}from"./index-BX7k1nCh.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o=new Error().stack;o&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[o]="1f7bf5b1-fbd1-46a5-a07f-1b0b844a07e1",e._sentryDebugIdIdentifier="sentry-dbid-1f7bf5b1-fbd1-46a5-a07f-1b0b844a07e1")}catch{}})();const b={name:"AppInPlaceCloud",mixins:[d],emits:["close-cloud"],props:{active:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!0},type:{type:Number,default:0,validator(e){return e>=-2&&e<=1}},top:{type:Boolean,default:!1}},data(){return{correctionXPos:0,leftPos:0,topPos:0}},computed:{borderColor(){switch(this.type){case-2:return"rgb(var(--rgb-danger))";case-1:return"rgb(var(--rgb-warn))";case 1:return"rgb(var(--rgb-secondary))";default:return"rgb(var(--rgb-primary))"}}},methods:{positionCloud(){if(!this.$refs.positioner)return;let e=6,o=this.$refs.positioner.getBoundingClientRect();this.leftPos=o.left,this.topPos=o.top+window.scrollY+5;let t=this.$refs.cloud.getBoundingClientRect();this.leftPos-t.width/2<=0?this.correctionXPos=this.leftPos>t.width/2?0:t.width/2+e-this.leftPos:this.leftPos+t.width/2>=(document.documentElement.clientWidth||window.innerWidth)&&(this.correctionXPos=this.leftPos+t.width/2<(document.documentElement.clientWidth||window.innerWidth)?0:(document.documentElement.clientWidth||window.innerWidth)-t.width/2-e-this.leftPos)},scrollListener(){this.positionCloud(),this.$emit("close-cloud")}},created(){if(!document.getElementById("clouds")){let e=document.createElement("div");e.id="clouds",document.body.appendChild(e)}},beforeUnmount(){this.listenScroll&&window.removeEventListener("scroll",this.scrollListener)},watch:{active(e){this.$nextTick(this.positionCloud),this.listenScroll&&(e?window.addEventListener("scroll",this.scrollListener,!0):window.removeEventListener("scroll",this.scrollListener,!0))},windowWidth(){this.active&&this.$nextTick(this.positionCloud)}}},m={class:"inner"};function w(e,o,t,v,i,l){return s(),a("div",{ref:"positioner",class:n(["cloud-positioner",{top:t.top}])},[(s(),u(h,{to:"#clouds"},[r("div",{ref:"cloud",class:n(["in-place-cloud",{active:t.active,top:t.top}]),style:p("--border-color:"+l.borderColor+";--correction-x-pos:"+i.correctionXPos+"px;--left-pos:"+i.leftPos+"px;--top-pos:"+i.topPos+"px")},[r("div",m,[f(e.$slots,"default",{},void 0,!0)])],6)]))],2)}const P=c(b,[["render",w],["__scopeId","data-v-b4b8b1e9"]]);export{P as A};
//# sourceMappingURL=AppInPlaceCloud-Dg08S17k.js.map
